<!DOCTYPE html>
<html>
<head>
    <script src="lib/event_emitter.js"></script>
    <script src="lib/model/model.js"></script>
    <script src="lib/model/collection.js"></script>
    <script src="lib/view/view.js"></script>
    <script src="lib/view/model_view.js"></script>
    <script src="lib/view/collection_view.js"></script>
    <script src="scripts/model/person.js"></script>
</head>
<body>
    <form id="in">
        <input data-bind-value="name" autofocus placeholder="e.g. John Doe">
        <input value="Add" type="submit" data-bind-event="click addPerson">
    </form>
    <li>
        <span data-bind="name">testing</span>
    </li>
    <ul id="a"></ul>
<script>
var c = new Collection();

var newPerson = new Person();
var newView = new ModelView(document.getElementById("in"), newPerson);

newView.addPerson = function(e) {
    c.add(newPerson.clone());
    newPerson.name = "";
    e.preventDefault();
};


var modelTemplate = View.template(document.querySelector("li"));

var coll = new CollectionView(View.capture(document.querySelector("ul")), c, modelTemplate);

document.body.appendChild(coll._node);

</script>
</body>
</html>
